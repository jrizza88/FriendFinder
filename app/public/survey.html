<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <title>FriendFinder Survey</title>
  <!-- Bootstrap and JQuery-->
  <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/superhero/bootstrap.min.css" rel="stylesheet" integrity="sha384-88w0u/oucDSTE30ETLLIobzhT+bQ6CSsiqQyLZpwHvve89eqUA9F2Db6ST6jGRLx" crossorigin="anonymous">

  <link rel="stylesheet" type="text/css" href="reset.css">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<style style="" background="css">
html {
  height: 100%;
  background: url('bestFriends.jpg') no-repeat center center;
  background-size: cover;

}

body {
  background: url('bestFriends.jpg') no-repeat center center;
  background-size: cover;
  background-color: none;
}


</style>
<body body="" background="/background">

  <div class="container">
    <div class="jumbotron">
       <div class="jumbotron">
      <h1 class="text-center"><img src="images/friends2.png" alt="friends" width='70' height='70'> Friend Finder</h1>
      <hr>
      <div class="text-center">
        <a href="/"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a>
      </div>
      <hr>
      
      <div class="input-group input-group-lg">
        <span class="input-group-addon" id="sizing-addon1"></span>
        <input type="text" class="form-control friendName" placeholder="Name" aria-describedby="sizing-addon2">
      </div>

      <div class="input-group input-group-lg">
        <span class="input-group-addon" id="sizing-addon1"></span>
        <input type="text" class="form-control photoLink" placeholder="Link to your photo" aria-describedby="sizing-addon2">
      </div>


      <h2 class="text-center">Answer the following questions<br>1 <i>The least</i> - 5 <i>The most</i></h2>
      <br>

      <form id="q1">
         <h2>1 - Do you enjoy being in charge?</h2>
        <div class="well">
        <input type="radio" name="q1" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q1" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q1" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q1" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q1" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q2">
         <h2>2 - Is family very important to you? </h2>
        <div class="well">
        <input type="radio" name="q2" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q2" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q2" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q2" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q2" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q3">
         <h2>3 - Would you do whatever it takes to protect your loved ones? </h2>
        <div class="well">
        <input type="radio" name="q3" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q3" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q3" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q3" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q3" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q4">
         <h2>4 - Do you prefer a peaceful life? </h2>
        <div class="well">
        <input type="radio" name="q4" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q4" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q4" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q4" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q4" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q5">
         <h2>5 - Do you prefer adventures? </h2>
        <div class="well">
        <input type="radio" name="q5" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q5" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q5" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q5" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q5" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q6">
         <h2>6 - Are you a calculative person? </h2>
        <div class="well">
        <input type="radio" name="q6" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q6" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q6" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q6" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q6" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q7">
         <h2>7 - Do you look out for others more than yourself?</h2>
        <div class="well">
        <input type="radio" name="q7" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q7" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q7" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q7" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q7" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q8">
         <h2>8 - Do you like to be secretive with many things? </h2>
        <div class="well">
        <input type="radio" name="q8" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q8" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q8" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q8" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q8" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      </form>

      <form id="q9">
         <h2>9 - Are you loyal to yours friends? </h2>
        <div class="well">
        <input type="radio" name="q9" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q9" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q9" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q9" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q9" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
    
      </form>

      <form id="q10">
         <h2>10 - Do you like children?</h2>
        <div class="well">
        <input type="radio" name="q10" value="1"> 1&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q10" value="2"> 2&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q10" value="3" checked=""> 3&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q10" value="4"> 4&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="radio" name="q10" value="5"> 5&nbsp;&nbsp;&nbsp;&nbsp;
      </div>
      
      </form>
      
      <a href="#" class="btn btn-primary submit">submit</a>
    </div>
  </div>

<!--MODAL-->
  <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header text-center">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3 class="modal-title"><b>Your most compatable tv friend</b></h3>
        </div>
        <div class="modal-body text-center">
          <h2 id="name"></h2>
          <h4 id="alert"></h4>
          <img id="photo" alt="" height="500" width="560">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" id="hideModal" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>


  <div class="popup" data-popup="popup-1">
            <div class="popup-inner">
                <h2>Meet your best match!</h2>
                <p>Based on your answers, here is what we found to be your best match for a friend!</p>
                <p><a data-popup-close="popup-1" href="#">Close</a></p>
                <a class="popup-close" data-popup-close="popup-1" href="#">x</a>
            </div>


  <footer class="footer">
        <div class="container">
            <p><a href="/api/friends">API Friend List</a> | <a href="https://github.com/jrizza88/FriendFinder">GitHub Repo</a></p>
        </div>
  </footer>


<script>
var currentURL = window.location.origin;
$(".submit").on("click", function(){
    //Are the fields populated?
    var toPost = false;
    
    if($('.friendName').val().trim()!=="" 
      && 
      $('.photoLink').val().trim()!=="")
    {
      
      toPost = true
    }

    if(toPost){

      //setup JSON object for the new friend from the form data
      var newFriend = {
        "friendName": $('.friendName').val().trim(),
        "friendPhoto": $('.photoLink').val().trim(),
        "scores" : [
        $('input[name="q1"]:checked').val(),
        $('input[name="q2"]:checked').val(),
        $('input[name="q3"]:checked').val(),
        $('input[name="q4"]:checked').val(),
        $('input[name="q5"]:checked').val(),
        $('input[name="q6"]:checked').val(),
        $('input[name="q7"]:checked').val(),
        $('input[name="q8"]:checked').val(),
        $('input[name="q9"]:checked').val(),
        $('input[name="q10"]:checked').val()
        ]

      };
    

        $.post(currentURL + "/api/friends", newFriend,
        function(data){
          console.log(data.name,data.photo);
          //We'll plug these items into the MODAL.
          $("#name").text(data.name);
          $("#alert").text(data.alert);
          $("#photo").attr("src",data.photo);

        $("#myModal").modal('toggle');
        //clear the form
          $('.friendName').val("");
        $('.photoLink').val("");

        });

    }else{
      
      alert("Complete the form first!");
    }
  
  return false;

});

$('#hideModal').click(function() {
    $.get('/',function(req,res){
    location.replace(res);
    })
    console.log(req);
    console.log(res);
});
</script>



</body>

</html>

